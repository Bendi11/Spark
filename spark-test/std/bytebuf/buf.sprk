imp up:alloc

type bytebuf_t = {
    *u8 ptr,
    usz len,
    usz cap,
}

fun empty() -> bytebuf_t {
    return #bytebuf_t {
        ptr = alloc:null,
        len = 0usz,
        cap = 0usz,
    }
}

fun with_cap(usz cap) -> bytebuf_t {
    return #bytebuf_t {
        ptr = $*u8 alloc:allocator.alloc(cap),
        len = 0usz,
        cap = 0usz,
    }
}

fun extend_fit(*bytebuf_t self, usz cap) {
}

fun push(*bytebuf_t self, u8 elem) {
    
}
